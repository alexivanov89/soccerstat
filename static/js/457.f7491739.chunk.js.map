{"version":3,"file":"static/js/457.f7491739.chunk.js","mappings":"4QAwHA,UAtGuB,WAAO,IAAD,IACrBA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,MAChB,GAAoCC,EAAAA,EAAAA,KAAY,qBAAGC,iBAA3CC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAASC,EAA1B,EAA0BA,MACpBC,GAAeL,EAAAA,EAAAA,IAAYM,EAAAA,IAC3BC,GAAUP,EAAAA,EAAAA,KAAY,qBAAGO,WACvBC,EAAqBD,EAArBC,SAAUC,EAAWF,EAAXE,OAEZC,EAAsBL,EAAaM,MAAK,SAACC,EAAGC,GAChD,OAAID,EAAEE,KAAKC,cAAgBF,EAAEC,KAAKC,eACxB,EACCH,EAAEE,KAAKC,cAAgBF,EAAEC,KAAKC,cAChC,EAEA,MAIXC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EASd,OARA,UAAItB,EAASuB,aAAb,OAAI,EAAgBC,IAClBtB,GACEuB,EAAAA,EAAAA,GAAwBzB,EAASuB,MAAMC,GAAI,CACzC,CAAEJ,KAAM,WAAYM,MAAOZ,GAC3B,CAAEM,KAAM,SAAUM,MAAOX,MAIxB,WACLb,GAASyB,EAAAA,EAAAA,IAAsB,OAC/BzB,GAAS0B,EAAAA,EAAAA,UAEV,CAACf,EAAD,UAAUb,EAASuB,aAAnB,aAAU,EAAgBC,MAE7BF,EAAAA,EAAAA,YAAU,WAER,OADApB,GAAS2B,EAAAA,EAAAA,OACF,WACL3B,GAAS0B,EAAAA,EAAAA,UAEV,IAEH,IAAME,GAAeC,EAAAA,EAAAA,cACnB,SAACL,GACCxB,GAASyB,EAAAA,EAAAA,IAAqB,OAACD,QAAD,IAACA,OAAD,EAACA,EAAOF,KACtCpB,EAAQ4B,KAAK,CACXC,SAAUC,EAAAA,EAAAA,eACVX,MAAO,CAAEC,GAAG,GAAD,cAAKE,QAAL,IAAKA,OAAL,EAAKA,EAAOF,SAG3B,CAACtB,IAGH,OACE,8BACG,UAAAF,EAASuB,aAAT,SAAgBC,IACf,gCACGf,GAAW,WACVA,IAAYC,IAAS,SAAC,IAAD,CAAcF,QAASA,IAC7CE,IACC,UAAC,IAAD,CACEyB,GAAI,CACFC,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,UALhB,WAQE,SAAC,IAAD,CAAYC,QAAQ,KAAKC,UAAU,KAAKC,MAAM,QAAQC,MAAM,SAA5D,sEAGA,SAAC,IAAD,CAAQC,QAASxC,EAAQyC,OAAQL,QAAQ,YAAzC,0GAON,UAAC,IAAD,CACEL,GAAI,CACFW,aAAc,EACdC,UAAW,QACXX,QAAS,OACTC,cAAe,SACfE,WAAY,SACZD,eAAgB,gBAPpB,WAUE,SAAC,IAAD,CACEU,eAAgB,SAACC,GAAD,gBAAeA,EAAO7B,KAAtB,aAA+B6B,EAAOC,KAAKC,cAC3DC,QAASpC,EACTqC,SAAUvB,EACVwB,MAAO,2FAET,SAAC,IAAD,CAAYd,QAAQ,KAAKE,MAAM,UAA/B","sources":["pages/LeagueCalendar/LeagueCalendar.js"],"sourcesContent":["import { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Card from '@mui/material/Card';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport { ListCalendar } from '../../components/ListCalendar';\nimport { MyAutocomplete } from '../../components/MyAutocomplete';\nimport { fetchMatchesLeagueAsync } from '../../store/reducers/matchesLeagueReducer';\nimport {\n  fetchCompetitionsAsync,\n  getCompetitionsSelector,\n} from '../../store/reducers/competitionsReducer';\nimport { SetFilterCompetitions } from '../../store/actions/creator/competitions';\nimport { ClearMatchesLeague } from '../../store/actions/creator/matchesLeague';\nimport { routesPath } from '../../router/routes';\n\nconst LeagueCalendar = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { matches, loading, error } = useSelector(({ matchesLeague }) => matchesLeague);\n  const competitions = useSelector(getCompetitionsSelector);\n  const filters = useSelector(({ filters }) => filters);\n  const { dateFrom, dateTo } = filters;\n\n  const prepareCompetitions = competitions.sort((a, b) => {\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\n      return -1;\n    } else if (a.name.toLowerCase() > b.name.toLowerCase()) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n\n  useEffect(() => {\n    if (location.state?.id) {\n      dispatch(\n        fetchMatchesLeagueAsync(location.state.id, [\n          { name: 'dateFrom', value: dateFrom },\n          { name: 'dateTo', value: dateTo },\n        ]),\n      );\n    }\n    return () => {\n      dispatch(SetFilterCompetitions(null));\n      dispatch(ClearMatchesLeague());\n    };\n  }, [filters, location.state?.id]);\n\n  useEffect(() => {\n    dispatch(fetchCompetitionsAsync());\n    return () => {\n      dispatch(ClearMatchesLeague());\n    };\n  }, []);\n\n  const handleChange = useCallback(\n    (value) => {\n      dispatch(SetFilterCompetitions(value?.id));\n      history.push({\n        pathname: routesPath.leagueCalendar,\n        state: { id: `${value?.id}` },\n      });\n    },\n    [dispatch],\n  );\n\n  return (\n    <>\n      {location.state?.id ? (\n        <>\n          {loading && 'loading'}\n          {!loading && !error && <ListCalendar matches={matches} />}\n          {error && (\n            <Box\n              sx={{\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <Typography variant=\"h1\" component=\"h2\" color=\"white\" align=\"center\">\n                нет данных\n              </Typography>\n              <Button onClick={history.goBack} variant=\"contained\">\n                Вернуться назад\n              </Button>\n            </Box>\n          )}\n        </>\n      ) : (\n        <Card\n          sx={{\n            borderRadius: 4,\n            minHeight: '120px',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'space-evenly',\n          }}\n        >\n          <MyAutocomplete\n            getOptionLabel={(option) => `${option.name}, ${option.area.countryCode}`}\n            options={prepareCompetitions}\n            onChange={handleChange}\n            label={'Найти Чемпионат'}\n          />\n          <Typography variant=\"h5\" color=\"initial\">\n            Выберите Чемпионат\n          </Typography>\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default LeagueCalendar;\n"],"names":["location","useLocation","dispatch","useDispatch","history","useHistory","useSelector","matchesLeague","matches","loading","error","competitions","getCompetitionsSelector","filters","dateFrom","dateTo","prepareCompetitions","sort","a","b","name","toLowerCase","useEffect","state","id","fetchMatchesLeagueAsync","value","SetFilterCompetitions","ClearMatchesLeague","fetchCompetitionsAsync","handleChange","useCallback","push","pathname","routesPath","sx","display","flexDirection","justifyContent","alignItems","variant","component","color","align","onClick","goBack","borderRadius","minHeight","getOptionLabel","option","area","countryCode","options","onChange","label"],"sourceRoot":""}